(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{125:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(26),a=n(5),c="SEND-MESSAGE-STATE",i={dialogsArray:[{id:1,name:"Egorius"},{id:2,name:"Vika"},{id:3,name:"Dima"},{id:4,name:"Kuzya"}],messagesArray:[{id:1,message:"Hello, Universe!"},{id:2,message:"How old are you?"},{id:3,message:"I love React!"}]};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:4,message:t.message};return Object(a.a)(Object(a.a)({},e),{},{messagesArray:[].concat(Object(r.a)(e.messagesArray),[n]),newMessageText:""});default:return e}};var s=function(e){return{type:c,message:e}}},126:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return g}));var r=n(11),a=n.n(r),c=n(22),i=n(26),s=n(5),o=n(23),u="FOLLOW-FRIEND",l="SET-USERS",d="SET-PAGE",j="SET-TOTAL-COUNT",f="LOADING-AJAX-isFeTCHING",b="FOLLOWING-PROGRESS",O={usersArray:[],pageSize:10,totalCount:0,currentPage:1,isFetchingPreloader:!1,followingProgressIdArray:[],fake:5},p=function(e){return{type:d,currentPage:e}},h=function(e){return{type:f,isFetchingPreloader:e}},m=function(e,t){return{type:b,isFetchingFollowing:e,id:t}},v=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(h(!0)),r(p(e)),n.next=4,o.c.getUsers(e,t);case 4:c=n.sent,r((i=c.data.items,{type:l,users:i})),r((a=c.data.totalCount,{type:j,totalCount:a})),r(h(!1));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(m(!0,e)),n.next=5,o.c[t](e);case 5:0===n.sent.data.resultCode&&r({type:u,id:e}),r(m(!1,e));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return Object(s.a)(Object(s.a)({},e),{},{fake:e.fake+1});case u:return Object(s.a)(Object(s.a)({},e),{},{usersArray:e.usersArray.map((function(e){return e.id===t.id?Object(s.a)(Object(s.a)({},e),{},{followed:!e.followed}):e}))});case l:return Object(s.a)(Object(s.a)({},e),{},{usersArray:Object(i.a)(t.users)});case d:return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case j:return Object(s.a)(Object(s.a)({},e),{},{totalCount:t.totalCount});case f:return Object(s.a)(Object(s.a)({},e),{},{isFetchingPreloader:t.isFetchingPreloader});case b:return Object(s.a)(Object(s.a)({},e),{},{followingProgressIdArray:t.isFetchingFollowing?[].concat(Object(i.a)(e.followingProgressIdArray),[t.id]):Object(i.a)(e.followingProgressIdArray.filter((function(e){return e!==t.id})))});default:return e}}},129:function(e,t,n){e.exports={content:"Music_content__18mC8"}},130:function(e,t,n){e.exports={content:"News_content__2nM2g"}},131:function(e,t,n){e.exports={content:"Settings_content__2pvdd"}},134:function(e,t,n){e.exports={content:"Friends_content__3z4fH"}},135:function(e,t,n){e.exports={name:"FriendName_name__36SCW"}},14:function(e,t,n){e.exports={content:"Nav_content__d7t9v",item:"Nav_item__3DPXs",active:"Nav_active__255Lm"}},168:function(e,t,n){},172:function(e,t,n){},23:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));n(0);var r=n(136),a=n.n(r).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"9087dfd7-c6fc-423b-a087-3b9e000bb9b0"}}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t))},unfollowUser:function(e){return a.delete("follow/".concat(e))},followUser:function(e){return a.post("follow/".concat(e),{})}},i={getProfile:function(e){return a.get("profile/"+e)},getProfileStatus:function(e){return a.get("profile/status/"+e)},updateProfileStatus:function(e){return a.put("profile/status",{status:e})}},s={setAuthMe:function(){return a.get("auth/me")},authLogin:function(e,t,n){return a.post("auth/login",{email:e,password:t,rememberMe:n})},authLogout:function(){return a.delete("auth/login")}}},298:function(e,t,n){"use strict";n.r(t);var r=n(1),a=(n(168),function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,310)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))}),c=n(62),i=n.n(c),s=n(0),o=n.n(s),u=n(50),l=n(51),d=n(53),j=n(52),f=(n(172),n(14)),b=n.n(f),O=n(17),p=function(){return Object(r.jsxs)("nav",{className:b.a.content,children:[Object(r.jsx)("div",{className:b.a.item,children:Object(r.jsx)(O.b,{to:"/profile/",activeClassName:b.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:b.a.item,children:Object(r.jsx)(O.b,{to:"/dialogs",activeClassName:b.a.active,children:"Messages"})}),Object(r.jsx)("div",{className:b.a.item,children:Object(r.jsx)(O.b,{to:"/news",activeClassName:b.a.active,children:"News"})}),Object(r.jsx)("div",{className:b.a.item,children:Object(r.jsx)(O.b,{to:"/music",activeClassName:b.a.active,children:"Music"})}),Object(r.jsx)("div",{className:b.a.item,children:Object(r.jsx)(O.b,{to:"/settings",activeClassName:b.a.active,children:"Settings"})}),Object(r.jsx)("div",{className:b.a.item,children:Object(r.jsx)(O.b,{to:"/friends",activeClassName:b.a.active,children:"Friends"})}),Object(r.jsx)("div",{className:b.a.item,children:Object(r.jsx)(O.b,{to:"/users",activeClassName:b.a.active,children:"Users"})})]})},h=n(10),m=n(129),v=n.n(m),g=function(e){return Object(r.jsx)("div",{className:v.a.content,children:"MUSIC_XXX"})},x=n(130),_=n.n(x),y=function(e){return Object(r.jsx)("div",{className:_.a.content,children:"NEWs_XXX \u0430\u0445axaqq"})},w=n(131),A=n.n(w),N=function(e){return Object(r.jsx)("div",{className:A.a.content,children:"SETTINGstyle_XXX"})},P=n(16),S=n(134),E=n.n(S),T=n(135),C=n.n(T),k=function(e){return Object(r.jsxs)("div",{className:C.a.name,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:"https://pbs.twimg.com/media/EGBq7cmXUAEO920.jpg",alt:""})}),Object(r.jsxs)("div",{children:["\u0410\u043b\u043e\u0445\u0430, ",e.name]})]})},I=function(e){var t=e.friendsPage.friendsArray.map((function(e){return Object(r.jsx)(k,{name:e.name,id:e.id},e.id)}));return Object(r.jsx)("div",{className:E.a.content,children:t})},F=Object(P.b)((function(e){return{friendsPage:e.friendsPage}}))(I),L=n(5),M=n(67),z=n.n(M),U=function(e){return Object(r.jsxs)("header",{className:z.a.header,children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:"https://webmentor.gr/wp-content/uploads/2018/11/logo300X300.png",alt:""})}),Object(r.jsx)("div",{children:e.auth.email}),Object(r.jsx)("div",{className:z.a.login_block,children:e.auth.isAuth?Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:e.auth.login}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:e.authlogout,children:"Logout"})})]}):Object(r.jsx)(O.b,{to:"/login/",activeClassName:z.a.active,children:"REGISTRATION"})})]})},R=n(11),D=n.n(R),X=n(22),G=n(23),H=n(38),K="auth_reducer/SET-USER-DATA",V={id:null,email:null,login:null,isAuth:!1},W=function(e,t,n,r){return{type:K,data:{id:e,email:t,login:n,isAuth:r}}},q=function(){return function(){var e=Object(X.a)(D.a.mark((function e(t){var n,r,a,c,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.setAuthMe();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.email,i=r.login,t(W(a,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(L.a)(Object(L.a)({},e),t.data);default:return e}},B=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(u.a)(this,n),r=t.call(this,e),console.log("Header created"),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(r.jsx)(U,Object(L.a)({},this.props))}}]),n}(o.a.Component),Y={authlogout:function(){return function(){var e=Object(X.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.authLogout();case 2:0===e.sent.data.resultCode&&t(W(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Z=Object(P.b)((function(e){return{auth:e.auth}}),Y)(B),Q=n(64),$=n.n(Q),ee=n(46),te=n.n(ee),ne=n(127),re=n(65),ae=n(42),ce=Object(re.b)(6),ie=Object(ae.b)("input"),se=Object(ne.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(r.jsx)("form",{onSubmit:t,children:Object(r.jsxs)("div",{className:$.a.form,children:[Object(ae.a)("email","email",ie,[re.c],null,null),Object(ae.a)("password","password",ie,[re.c,ce],{type:"password"},null),Object(ae.a)(null,"rememberMe",ie,null,{type:"checkbox"},"remember Me"),n&&Object(r.jsx)("div",{className:te.a.error_summary_form,children:n}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Submit"})})]})})})),oe=n(9),ue={authLogin:function(e,t,n){return function(){var r=Object(X.a)(D.a.mark((function r(a){var c,i;return D.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,G.a.authLogin(e,t,n);case 2:0===(c=r.sent).data.resultCode?a(q()):(i=c.data.messages.length>0?c.data.messages[0]:"Some error",a(Object(H.a)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},le=Object(oe.d)(Object(P.b)((function(e){return{isAuth:e.auth.isAuth}}),ue))((function(e){if(e.isAuth)return Object(r.jsx)(h.a,{to:"/music"});return Object(r.jsx)("div",{className:$.a.content,children:Object(r.jsx)(se,{onSubmit:function(t){var n=t.email,r=t.password,a=t.rememberMe;e.authLogin(n,r,a)}})})})),de="SET-INITIALIZE",je={initialize:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(L.a)(Object(L.a)({},e),{},{initialize:t.initialize});default:return e}},be=n(93),Oe=n(94),pe=n(125),he={friendsArray:[{id:1,name:"Egorius"},{id:2,name:"Vika"},{id:3,name:"Dima"},{id:4,name:"Kuzya"}]},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return e},ve=n(126),ge=n(140),xe=n(128),_e=Object(oe.c)({profilePage:Oe.b,dialogsPage:pe.b,friendsPage:me,usersPage:ve.a,auth:J,form:xe.a,app:fe}),ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,we=Object(oe.e)(_e,ye(Object(oe.a)(ge.a)));window.__store__=we,window.U=we.usersPage;var Ae=we,Ne=o.a.lazy((function(){return n.e(3).then(n.bind(null,311))})),Pe=o.a.lazy((function(){return n.e(4).then(n.bind(null,313))})),Se=o.a.lazy((function(){return n.e(5).then(n.bind(null,312))})),Ee=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(u.a)(this,n),r=t.call(this,e),console.log("App created"),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialize?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(Z,{}),Object(r.jsx)(p,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsxs)(o.a.Suspense,{fallback:Object(r.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:[Object(r.jsx)(h.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(Ne,{})}}),Object(r.jsx)(h.b,{path:"/dialogs",render:function(){return Object(r.jsx)(Pe,{})}})]}),Object(r.jsx)(h.b,{path:"/users",render:(e=Se,function(t){return Object(r.jsx)(o.a.Suspense,{fallback:Object(r.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(r.jsx)(e,Object(L.a)({},t))})})}),Object(r.jsx)(h.b,{path:"/friends",render:function(){return Object(r.jsx)(F,{})}}),Object(r.jsx)(h.b,{path:"/news",render:function(){return Object(r.jsx)(y,{})}}),Object(r.jsx)(h.b,{path:"/music",render:function(){return Object(r.jsx)(g,{})}}),Object(r.jsx)(h.b,{path:"/settings",render:function(){return Object(r.jsx)(N,{})}}),Object(r.jsx)(h.b,{path:"/login/",render:function(){return Object(r.jsx)(le,{})}})]})]}):Object(r.jsx)(be.a,{});var e}}]),n}(o.a.Component),Te={initializeApp:function(){return function(e){e(q()).then((function(){e({type:de,initialize:!0})}))}}},Ce=Object(oe.d)(h.f,Object(P.b)((function(e){return{initialize:e.app.initialize}}),Te))(Ee),ke=function(e){return Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(O.a,{basename:"/React_IT-KAMASUTRA",children:Object(r.jsx)(P.a,{store:Ae,children:Object(r.jsx)(Ce,{})})})})};i.a.render(Object(r.jsx)(ke,{}),document.getElementById("root")),a()},42:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(1),a=n(5),c=n(137),i=(n(0),n(46)),s=n.n(i),o=n(86),u=function(e){return function(t){var n=t.input,i=t.meta,o=Object(c.a)(t,["input","meta"]),u=i.touched&&i.error;return Object(r.jsxs)("div",{className:s.a.form_content+" "+(u&&s.a.error),children:[Object(r.jsx)("div",{children:Object(r.jsx)(e,Object(a.a)(Object(a.a)({},n),o))}),u&&Object(r.jsxs)("span",{children:[" ",i.error," "]})]})}},l=function(e,t,n,c,i,s){return Object(r.jsxs)("div",{children:[Object(r.jsx)(o.a,Object(a.a)({placeholder:e,name:t,component:n,validate:c},i))," ",s]})}},46:function(e,t,n){e.exports={form_content:"formsControl_form_content__25xWt",error:"formsControl_error__1yVtr",error_summary_form:"formsControl_error_summary_form__2Fkkb"}},64:function(e,t,n){e.exports={content:"login_content__2naSE",form:"login_form__2W-i_"}},65:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));n(0);var r=function(e){if(!e)return"Error"},a=function(e){return function(t){if(t&&t.length>e)return"Max length ".concat(e," simbols")}},c=function(e){return function(t){if(t&&t.length<e)return"Min length ".concat(e," simbols")}}},67:function(e,t,n){e.exports={header:"Header_header__3TVgp",login_block:"Header_login_block__1xKPd",active:"Header_active__1V0-z"}},92:function(e,t,n){e.exports={preloader:"Preloader_preloader__2NPJM",spinner:"Preloader_spinner__2x-z3",spin:"Preloader_spin__3bqG1"}},93:function(e,t,n){"use strict";var r=n(1),a=(n(0),n(92)),c=n.n(a);t.a=function(e){return Object(r.jsx)("div",{className:c.a.preloader,children:Object(r.jsx)("div",{className:c.a.spinner})})}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m}));var r=n(11),a=n.n(r),c=n(22),i=n(26),s=n(5),o=n(23),u="ADD-POST-STATE",l="GET-USER-PROFILE",d="GET-USER-PROFILE-STATUS",j="DELETE-POST-STATE",f={postsArray:[{id:1,post:"Hi, how are you?",like:"+100500"},{id:2,post:"It's my second post!",like:"20"},{id:3,post:"Good day!",like:"25"}],usersProfile:null,status:null},b=function(e){return{type:u,post:e}},O=function(e){return{type:d,status:e}},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:l,usersProfile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getProfileStatus(e);case 2:r=t.sent,n(O(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateProfileStatus(e);case 2:0===t.sent.data.resultCode&&n(O(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:4,post:t.post,like:0};return Object(s.a)(Object(s.a)({},e),{},{postsArray:[].concat(Object(i.a)(e.postsArray),[n]),newPostText:""});case j:return Object(s.a)(Object(s.a)({},e),{},{postsArray:Object(i.a)(e.postsArray.filter((function(e){return e.id!==t.id})))});case l:return Object(s.a)(Object(s.a)({},e),{},{usersProfile:t.usersProfile});case d:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});default:return e}}}},[[298,1,2]]]);
//# sourceMappingURL=main.fd659826.chunk.js.map